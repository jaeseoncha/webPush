<script setup lang="ts">


import {ref} from "vue";
// import axios from "axios"
//
// const axiosInstance = axios.create({
//   baseURL: 'http://localhost:7788', // ë¡œì»¬ í¬íŠ¸ì— ë§ê²Œ ë³€ê²½
// });

const userId = ref("");

/**
 *  ë¡œê·¸ì¸
 */
const loginTest = async () => {

  const userData = {
    userId: userId,
  };

  // fetchë¥¼ ì‚¬ìš©í•˜ì—¬ POST ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
  const response = await fetch('/api/user/v1/loginApi_login', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json' // ìš”ì²­ì˜ Content-Typeì„ JSONìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
    },
    body: JSON.stringify(userData) // ì‚¬ìš©ì ë°ì´í„° ê°ì²´ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ ìš”ì²­ì˜ ë³¸ë¬¸ì— ë„£ìŠµë‹ˆë‹¤.
  });

  // ì„œë²„ë¡œë¶€í„° ë°›ì€ ì‘ë‹µì„ JSON í˜•íƒœë¡œ íŒŒì‹±í•©ë‹ˆë‹¤.
  const data = await response.json();

  // ì‘ë‹µ ë°ì´í„°ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
  console.log(data);

}


</script>

<template>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Web Push - login</title>
<!--    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />-->
<!--    <link rel="stylesheet" href="/css/common.css">-->
  </head>
  <body>
  <header>
    <h1>Web Push</h1>
    <a href="https://github.com/leegeunhyeok/web-push" target="_blank">
      <span class="github"></span>
    </a>
  </header>
  <main>
    <section>
      <h2>ğŸ‘‹ Login</h2>
      <div class="group">
        <v-text-field
            v-model="userId"
            label="ì‚¬ìš©ìëª…"></v-text-field>
        <button @click="loginTest">Go!</button>
      </div>
    </section>
  </main>
  </body>

</template>
